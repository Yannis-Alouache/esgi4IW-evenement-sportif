{% extends 'base.html.twig' %}

{% block title %}Inscription à {{ event.name }}{% endblock %}

{% block body %}
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">S'inscrire à l'événement : {{ event.name }}</h1>

        {% if form.vars.errors|length > 0 %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
                {% for error in form.vars.errors %}
                    <p>{{ error.message }}</p>
                {% endfor %}
            </div>
        {% endif %}

        {{ form_start(form, {'attr': {'class': 'bg-white rounded-lg shadow-md p-6 mb-6 space-y-4'}}) }}
            <div>
                {{ form_label(form.name, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
                {{ form_widget(form.name, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'}}) }}
                {% if form.name.vars.errors|length > 0 %}
                    <div class="text-red-600 text-sm mt-1.5">
                        {% for error in form.name.vars.errors %}
                            <p>{{ error.message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <div>
                {{ form_label(form.email, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'}}) }}
                {% if form.email.vars.errors|length > 0 %}
                    <div class="text-red-600 text-sm mt-1.5">
                        {% for error in form.email.vars.errors %}
                            <p>{{ error.message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <div>
                {{ form_widget(form.submit, {'attr': {'class': 'w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2'}}) }}
            </div>
        {{ form_end(form) }}
        
        <a href="{{ path('app_event_view', {'id': event.id}) }}" 
           class="inline-block px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
            Retour
        </a>
    </div>
{% endblock %} 